(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[288],{5075:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/nextjs",function(){return t(6345)}])},6345:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return g}});var o=t(5893),s=t(6828),l=t(2152),a=t(5784),r=t(2985),i=t(1604),d=JSON.parse('{"i":"FROM {{ nodeImage }} AS base\\n\\n# Install dependencies only when needed\\nFROM base AS deps\\n# Check https://github.com/nodejs/docker-node/tree/b4117f9333da4138b03a546ec926ef50a31506c3#nodealpine to understand why libc6-compat might be needed.\\n{% if alpinePackages -%}\\nRUN apk add --no-cache {{ alpinePackages }}\\n{%- endif %}\\nWORKDIR /app\\n\\n# Install dependencies based on the preferred package manager\\nCOPY package.json yarn.lock* package-lock.json* pnpm-lock.yaml* ./\\nRUN \\\\\\n    if [ -f yarn.lock ]; then yarn --frozen-lockfile; \\\\\\n    elif [ -f package-lock.json ]; then npm ci; \\\\\\n    elif [ -f pnpm-lock.yaml ]; then yarn global add pnpm && pnpm i --frozen-lockfile; \\\\\\n    else echo \\"Lockfile not found.\\" && exit 1; \\\\\\n    fi\\n\\n\\n# Rebuild the source code only when needed\\nFROM base AS builder\\nWORKDIR /app\\nCOPY --from=deps /app/node_modules ./node_modules\\nCOPY . .\\n\\n# Next.js collects completely anonymous telemetry data about general usage.\\n# Learn more here: https://nextjs.org/telemetry\\n# Uncomment the following line in case you want to disable telemetry during the build.\\n{% if telemetry %}\\n# ENV NEXT_TELEMETRY_DISABLED 1\\n{% else %}\\nENV NEXT_TELEMETRY_DISABLED 1\\n{% endif %}\\n\\nRUN yarn build\\n\\n# If using npm comment out above and use below instead\\n# RUN npm run build\\n\\n# Production image, copy all the files and run next\\nFROM base AS runner\\nWORKDIR /app\\n\\nENV NODE_ENV production\\n# Uncomment the following line in case you want to disable telemetry during runtime.\\n{% if telemetry %}\\n# ENV NEXT_TELEMETRY_DISABLED 1\\n{% else %}\\nENV NEXT_TELEMETRY_DISABLED 1\\n{% endif %}\\n\\n\\nRUN addgroup --system --gid 1001 {{filePermissionsGroup}}\\nRUN adduser --system --uid 1001 {{filePermissionsUser}}\\n\\nCOPY --from=builder /app/public ./public\\n\\n# Set the correct permission for prerender cache\\nRUN mkdir .next\\nRUN chown nextjs:nodejs .next\\n\\n# Automatically leverage output traces to reduce image size\\n# https://nextjs.org/docs/advanced-features/output-file-tracing\\nCOPY --from=builder --chown=nextjs:nodejs /app/.next/standalone ./\\nCOPY --from=builder --chown=nextjs:nodejs /app/.next/static ./.next/static\\n\\nUSER nextjs\\n\\nEXPOSE {{port}}\\n\\nENV PORT {{port}}\\n# set hostname to localhost\\nENV HOSTNAME \\"{{host}}\\"\\n\\n# server.js is created by next build from the standalone output\\n# https://nextjs.org/docs/pages/api-reference/next-config-js/output\\nCMD [\\"node\\", \\"server.js\\"]"}');let c=i.z.object({nodeImage:i.z.string().default("node:20"),telemetry:i.z.boolean().default(!1),host:i.z.string().default("0.0.0.0"),port:i.z.string().default("3000"),filePermissionsUser:i.z.string().default("nextjs"),filePermissionsGroup:i.z.string().default("nodejs"),alpinePackages:i.z.string().default("libc6-compat")}),p=["node:16","node:16-alpine","node:18","node:18-alpine","node:20","node:20-alpine"],u=c.parse({});var m=t(6312),f=t(7536);function g(){let e=(0,f.cI)({resolver:(0,m.F)(c),defaultValues:u});return(0,o.jsx)(s.u,{title:"Next.js",getFiles:()=>(function(e){let n=c.parse(e);return{Dockerfile:(0,r.renderString)(d.i,n)}})(e.getValues()),children:(0,o.jsxs)(l.l0,{...e,children:[(0,o.jsx)(a.ih,{control:e.control,name:"nodeImage",label:"Node image",options:p}),(0,o.jsx)(a.j7,{control:e.control,name:"telemetry",label:"Telemetry",description:"Check if you want Telemetry"}),(0,o.jsx)(a.yt,{control:e.control,name:"filePermissionsUser",label:"File Permissions (User)",inputProps:{placeholder:"..."}}),(0,o.jsx)(a.yt,{control:e.control,name:"filePermissionsGroup",label:"File Permissions (Group)",inputProps:{placeholder:"..."}}),(0,o.jsx)(a.yt,{control:e.control,name:"alpinePackages",label:"Alpine packages",inputProps:{placeholder:"..."}})]})})}}},function(e){e.O(0,[429,390,283,298,774,888,179],function(){return e(e.s=5075)}),_N_E=e.O()}]);