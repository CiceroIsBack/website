(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[288],{5075:function(e,n,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/nextjs",function(){return o(6345)}])},6345:function(e,n,o){"use strict";o.r(n),o.d(n,{default:function(){return h}});var t=o(5893),l=o(2780),s=o(2152),a=o(5784),i=o(6568),r=o(2985),d=o(1604),c=JSON.parse('{"i":"FROM {{node_version}}{{ \\"-alpine\\" if alpine }} AS base\\n\\n# Install dependencies only when needed\\nFROM base AS deps\\n# Check https://github.com/nodejs/docker-node/tree/b4117f9333da4138b03a546ec926ef50a31506c3#nodealpine to understand why libc6-compat might be needed.\\n{% if alpinePackages -%}\\nRUN apk add --no-cache {{ alpinePackages }}\\n{%- endif %}\\nWORKDIR /app\\n\\n# Install dependencies based on the preferred package manager\\nCOPY package.json yarn.lock* package-lock.json* pnpm-lock.yaml* ./\\nRUN \\\\\\n    if [ -f yarn.lock ]; then yarn --frozen-lockfile; \\\\\\n    elif [ -f package-lock.json ]; then npm ci; \\\\\\n    elif [ -f pnpm-lock.yaml ]; then yarn global add pnpm && pnpm i --frozen-lockfile; \\\\\\n    else echo \\"Lockfile not found.\\" && exit 1; \\\\\\n    fi\\n\\n\\n# Rebuild the source code only when needed\\nFROM base AS builder\\nWORKDIR /app\\nCOPY --from=deps /app/node_modules ./node_modules\\nCOPY . .\\n\\n# Next.js collects completely anonymous telemetry data about general usage.\\n# Learn more here: https://nextjs.org/telemetry\\n# Uncomment the following line in case you want to disable telemetry during the build.\\n{% if telemetry %}\\n# ENV NEXT_TELEMETRY_DISABLED 1\\n{% else %}\\nENV NEXT_TELEMETRY_DISABLED 1\\n{% endif %}\\n\\nRUN yarn build\\n\\n# If using npm comment out above and use below instead\\n# RUN npm run build\\n\\n# Production image, copy all the files and run next\\nFROM base AS runner\\nWORKDIR /app\\n\\nENV NODE_ENV production\\n# Uncomment the following line in case you want to disable telemetry during runtime.\\n{% if telemetry %}\\n# ENV NEXT_TELEMETRY_DISABLED 1\\n{% else %}\\nENV NEXT_TELEMETRY_DISABLED 1\\n{% endif %}\\n\\n\\nRUN addgroup --system --gid 1001 {{filePermissions_group}}\\nRUN adduser --system --uid 1001 {{filePermissions_user}}\\n\\nCOPY --from=builder /app/public ./public\\n\\n# Set the correct permission for prerender cache\\nRUN mkdir .next\\nRUN chown nextjs:nodejs .next\\n\\n# Automatically leverage output traces to reduce image size\\n# https://nextjs.org/docs/advanced-features/output-file-tracing\\nCOPY --from=builder --chown=nextjs:nodejs /app/.next/standalone ./\\nCOPY --from=builder --chown=nextjs:nodejs /app/.next/static ./.next/static\\n\\nUSER nextjs\\n\\nEXPOSE {{port}}\\n\\nENV PORT {{port}}\\n# set hostname to localhost\\nENV HOSTNAME \\"{{host}}\\"\\n\\n# server.js is created by next build from the standalone output\\n# https://nextjs.org/docs/pages/api-reference/next-config-js/output\\nCMD [\\"node\\", \\"server.js\\"]"}');let u=d.z.object({node_version:d.z.string().default("node:18"),alpine:d.z.boolean().default(!0),telemetry:d.z.boolean().default(!1),host:d.z.string().default("0.0.0.0"),port:d.z.string().default("3000"),filePermissions_user:d.z.string().default("nextjs"),filePermissions_group:d.z.string().default("nodejs"),alpinePackages:d.z.string().default("libc6-compat")}),p=u.parse({});var f=o(6312),m=o(7536);function h(){let e=(0,m.cI)({resolver:(0,f.F)(u),defaultValues:p});return(0,t.jsx)(l.A,{title:"NextJs",getFiles:()=>(function(e){let n=u.parse(e);return{Dockerfile:(0,r.renderString)(c.i,n)}})(e.getValues()),description:"desc",children:(0,t.jsx)(s.l0,{...e,children:(0,t.jsxs)(i.mQ,{defaultValue:"basic",className:"my-4",children:[(0,t.jsxs)(i.dr,{children:[(0,t.jsx)(i.SP,{value:"basic",children:"Basic"}),(0,t.jsx)(i.SP,{value:"advanced",children:"Advanced"})]}),(0,t.jsxs)(i.nU,{value:"basic",className:"space-y-8",children:[(0,t.jsx)(a.ih,{control:e.control,name:"node_version",label:"Node version",options:[{label:"node:14",value:"node:14"},{label:"node:16",value:"node:16"},{label:"node:18",value:"node:18"},{label:"node:20",value:"node:20"}]}),(0,t.jsx)(a.j7,{control:e.control,name:"alpine",label:"Node alpine?",description:"Check if you want the alpine version of node selected"}),(0,t.jsx)(a.j7,{control:e.control,name:"telemetry",label:"Telemetry",description:"Check if you want Telemetry"})]}),(0,t.jsxs)(i.nU,{value:"advanced",className:"space-y-8",children:[(0,t.jsx)(a.yt,{control:e.control,name:"filePermissions_user",label:"File Permissions (User)",inputProps:{placeholder:"..."}}),(0,t.jsx)(a.yt,{control:e.control,name:"filePermissions_group",label:"File Permissions (Group)",inputProps:{placeholder:"..."}}),(0,t.jsx)(a.yt,{control:e.control,name:"alpinePackages",label:"Alpine packages",inputProps:{placeholder:"..."}})]})]})})})}}},function(e){e.O(0,[429,509,556,774,888,179],function(){return e(e.s=5075)}),_N_E=e.O()}]);